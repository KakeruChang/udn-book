"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _next = _interopRequireDefault(require("next"));

var _express = _interopRequireDefault(require("express"));

var dev = process.env.NODE_ENV !== 'production';
var app = (0, _next["default"])({
  dev: dev
});
var handle = app.getRequestHandler();
app.prepare().then(function () {
  var server = (0, _express["default"])();
  server.get('/apitest/side-menu', function (_req, res) {
    return res.json({
      testArray: [1, 2, 3]
    });
  });
  server.get('*', function (req, res) {
    return handle(req, res);
  });
  var PORT = process.env.PORT || 3000;
  server.listen(PORT, function () {
    console.log("> Ready on port ".concat(PORT));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci9pbmRleC50cyJdLCJuYW1lcyI6WyJkZXYiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJhcHAiLCJoYW5kbGUiLCJnZXRSZXF1ZXN0SGFuZGxlciIsInByZXBhcmUiLCJ0aGVuIiwic2VydmVyIiwiZ2V0IiwiX3JlcSIsInJlcyIsImpzb24iLCJ0ZXN0QXJyYXkiLCJyZXEiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUNBOztBQUVBLElBQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBckM7QUFDQSxJQUFNQyxHQUFHLEdBQUcsc0JBQUs7QUFBRUosRUFBQUEsR0FBRyxFQUFIQTtBQUFGLENBQUwsQ0FBWjtBQUNBLElBQU1LLE1BQU0sR0FBR0QsR0FBRyxDQUFDRSxpQkFBSixFQUFmO0FBQ0FGLEdBQUcsQ0FBQ0csT0FBSixHQUFjQyxJQUFkLENBQW1CLFlBQU07QUFDdkIsTUFBTUMsTUFBTSxHQUFHLDBCQUFmO0FBQ0FBLEVBQUFBLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXLG9CQUFYLEVBQWlDLFVBQUNDLElBQUQsRUFBZ0JDLEdBQWhCO0FBQUEsV0FDL0JBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTO0FBQUVDLE1BQUFBLFNBQVMsRUFBRSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUDtBQUFiLEtBQVQsQ0FEK0I7QUFBQSxHQUFqQztBQUdBTCxFQUFBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLFVBQUNLLEdBQUQsRUFBZUgsR0FBZjtBQUFBLFdBQWlDUCxNQUFNLENBQUNVLEdBQUQsRUFBTUgsR0FBTixDQUF2QztBQUFBLEdBQWhCO0FBQ0EsTUFBTUksSUFBSSxHQUFHZixPQUFPLENBQUNDLEdBQVIsQ0FBWWMsSUFBWixJQUFvQixJQUFqQztBQUNBUCxFQUFBQSxNQUFNLENBQUNRLE1BQVAsQ0FBY0QsSUFBZCxFQUFvQixZQUFNO0FBQ3hCRSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsMkJBQStCSCxJQUEvQjtBQUNELEdBRkQ7QUFHRCxDQVZEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5leHQgZnJvbSAnbmV4dCdcbmltcG9ydCBleHByZXNzLCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcydcblxuY29uc3QgZGV2ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xuY29uc3QgYXBwID0gbmV4dCh7IGRldiB9KVxuY29uc3QgaGFuZGxlID0gYXBwLmdldFJlcXVlc3RIYW5kbGVyKClcbmFwcC5wcmVwYXJlKCkudGhlbigoKSA9PiB7XG4gIGNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKVxuICBzZXJ2ZXIuZ2V0KCcvYXBpdGVzdC9zaWRlLW1lbnUnLCAoX3JlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT5cbiAgICByZXMuanNvbih7IHRlc3RBcnJheTogWzEsIDIsIDNdIH0pXG4gIClcbiAgc2VydmVyLmdldCgnKicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IGhhbmRsZShyZXEsIHJlcykpXG4gIGNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDBcbiAgc2VydmVyLmxpc3RlbihQT1JULCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coYD4gUmVhZHkgb24gcG9ydCAke1BPUlR9YClcbiAgfSlcbn0pXG4iXX0=